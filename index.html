<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Apology Website</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Arial', sans-serif; background:#ffe6ec; overflow:hidden; }

/* LOGIN PAGE */
#login-form {
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100vh;
    background:url('photo3.jpeg') center/cover no-repeat;
}
#login-form h1 {
    font-size:32px;
    margin-bottom:20px;
    color:white;
    text-shadow:0 0 10px black;
}
#login-form input {
    padding:10px;
    border-radius:6px;
    border:none;
    margin:5px 0;
    width:220px;
    font-size:16px;
}
#login-btn { background:#ff4d6d; color:white; cursor:pointer; }

/* MAIN PAGE */
#main {
    display:none;
    height:100vh;
    background:#ffe6ec;
    position:relative;
    padding:20px;
}

/* Logout bottom-left */
#logout {
    position:absolute;
    bottom:20px;
    left:20px;
    padding:8px 16px;
    background:#ff4d6d;
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
    z-index:50;
}

/* Photos on right */
#photos {
    position:absolute;
    right:40px;
    top:50%;
    transform:translateY(-50%);
    display:flex;
    flex-direction:column;
    z-index:10;
}
#photos img {
    width:350px;
    border-radius:15px;
    margin-bottom:20px;
    box-shadow:0 4px 12px rgba(0,0,0,0.2);
    max-width:90vw;
}

/* Tabs Left */
.tabs {
    position:absolute;
    left:40px;
    top:50%;
    transform:translateY(-50%);
    z-index:20;
}
.tab-btn {
    padding:12px 20px;
    margin-bottom:10px;
    border:none;
    border-radius:8px;
    background:#ff4d6d;
    color:white;
    cursor:pointer;
    font-size:17px;
    width:180px;
}
#message-content {
    display:none;
    margin-top:15px;
    background:white;
    padding:20px;
    border-radius:12px;
    box-shadow:0 0 10px rgba(0,0,0,0.15);
    max-width:400px;
    white-space:pre-line;
    line-height:1.6;
    z-index:25;
    position:relative;
}

/* PUZZLE BOX */
#puzzle-box {
    width:340px;
    padding:20px;
    background:white;
    border-radius:16px;
    box-shadow:0 4px 12px rgba(0,0,0,0.15);
    margin-top:20px;
    display:none;
    text-align:center;
    position:relative;
    z-index:30;
}
#puzzle-container {
    position:relative;
    width:300px;
    height:300px;
    margin:auto;
}
.tile {
    position:absolute;
    cursor:pointer;
    border:1px solid white;
    transition:top 0.25s, left 0.25s;
}
#puzzle-message {
    margin-top:20px;
    display:none;
    background:#fff0f5;
    padding:15px;
    border-radius:12px;
    font-weight:bold;
}
#puzzle-back, #controls button {
    margin-top:20px;
    padding:10px 16px;
    background:#ff4d6d;
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
}

/* HEART SHAPE */
.heart {
    position:absolute;
    width:90px;
    height:90px;
    background:red;
    transform:rotate(-45deg);
    opacity:0.85;
    z-index:100;
}
.heart:before,
.heart:after {
    content:"";
    position:absolute;
    width:90px;
    height:90px;
    background:red;
    border-radius:50%;
}
.heart:before { top:-45px; left:0; }
.heart:after { left:45px; top:0; }
.heart span {
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) rotate(45deg);
    color:white;
    font-weight:bold;
    font-size:16px;
    width:80px;
    text-align:center;
    pointer-events:none;
    z-index:101;
}

/* QUIZ BOX */
#quiz-box {
    width:340px;
    padding:20px;
    background:white;
    border-radius:16px;
    box-shadow:0 4px 12px rgba(0,0,0,0.15);
    margin-top:20px;
    display:none;
    position:relative;
    z-index:30;
}
.quiz-option {
    padding:10px;
    background:#ffe6ec;
    border-radius:10px;
    margin:8px 0;
    cursor:pointer;
}
.quiz-option.selected {
    background:#ff4d6d;
    color:white;
    font-weight:bold;
}
.quiz-nav {
    margin-top:10px;
    display:flex;
    justify-content:space-between;
}
.quiz-nav button, #close-quiz {
    padding:8px 14px;
    background:#ff4d6d;
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
    margin-top:10px;
}
#quiz-image {
    width:100%;
    height:180px;
    background-size:cover;
    background-position:center;
    border-radius:12px;
    margin-bottom:10px;
}

/* BIG QUESTION BOX */
#bigq-box {
    width:380px;
    padding:20px;
    background:white;
    border-radius:16px;
    box-shadow:0 4px 12px rgba(0,0,0,0.15);
    margin-top:20px;
    display:none;
    text-align:center;
    position:relative;
    z-index:40;
}
#bigq-image {
    width:100%;
    height:180px;
    background-size:cover;
    background-position:center;
    border-radius:12px;
    margin-bottom:10px;
}
#bigq-buttons button {
    padding:10px 16px;
    background:#ff4d6d;
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
    margin:10px;
    position:relative;
}
#bigq-buttons button#no-btn {
    position:absolute;
}

/* MOBILE */
@media(max-width:800px) {
    #photos img { width:240px; }
    .tab-btn { width:150px; font-size:15px; }
    #message-content { max-width:300px; }
    #bigq-box { width:300px; }
}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login-form">
    <h1>Login</h1>
    <input type="text" id="name" placeholder="Enter your name" />
    <input type="submit" value="Login" id="login-btn" />
</div>

<!-- MAIN PAGE -->
<div id="main">
    <button id="logout">Logout</button>

    <div class="tabs">
        <button class="tab-btn" id="show-message">Apology Message</button>
        <div id="message-content"></div>
        <button class="tab-btn" id="quiz-tab">Quiz</button>
        <button class="tab-btn" id="puzzle-toggle">Puzzle</button>
        <button class="tab-btn" id="bigq-tab">Big Question</button>
    </div>

    <div id="photos">
        <img src="photo.jpg" />
        <img src="photo2.jpg" />
    </div>

    <!-- PUZZLE BOX -->
    <div id="puzzle-box">
        <div id="puzzle-container"></div>
        <div id="puzzle-message"></div>
        <button id="puzzle-back" onclick="closePuzzle()">Back</button>
        <div id="controls">
            <button onclick="startPuzzle(2)">2×2</button>
            <button onclick="startPuzzle(3)">3×3</button>
            <button onclick="startPuzzle(4)">4×4</button>
        </div>
    </div>

    <!-- QUIZ BOX -->
    <div id="quiz-box">
        <div id="quiz-image"></div>
        <h3 id="quiz-question"></h3>
        <div id="quiz-options"></div>
        <div class="quiz-nav">
            <button id="prev-btn">Previous</button>
            <button id="next-btn">Next</button>
        </div>
        <button id="close-quiz">Close Quiz</button>
        <div id="quiz-result"></div>
    </div>

    <!-- BIG QUESTION BOX -->
    <div id="bigq-box">
        <div id="bigq-image"></div>
        <h3 id="bigq-question">Will you forgive me?</h3>
        <div id="bigq-buttons">
            <button id="yes-btn">Yes</button>
            <button id="no-btn">No</button>
        </div>
        <button id="close-bigq">Close Big Question</button>
    </div>

</div>

<script>
/* LOGIN */
const loginBtn=document.getElementById("login-btn");
const nameInput=document.getElementById("name");
const loginForm=document.getElementById("login-form");
const main=document.getElementById("main");

loginBtn.addEventListener("click",()=>{
    const name=nameInput.value.trim();
    if(name==="Zodwa" || name==="Admin"){
        loginForm.style.display="none";
        main.style.display="block";
        startHearts();
    }else{ alert("Incorrect name."); }
});
document.getElementById("logout").onclick=()=>{ location.reload(); };

/* APOLOGY MESSAGE */
const messageBtn=document.getElementById("show-message");
const messageBox=document.getElementById("message-content");
const APOLOGY=`I’m really sorry for what I’ve done I hurt you and there’s no excuse for it you’ve always shown me love loyalty and patience and I broke the trust again in which we just reestablished and rebuilt and that you gave me I want you to know that my actions are a reflection of my flaws I should’ve handled the situation differently I handled everything terribly you are an incredible strong caring intelligent I should have been as amazing as you have been to me and I’m sorry for failing you I just want you to know that I truly value you and I’m committed to understanding you better you deserve the world I’m sorry for hurting you you mean a lot to me and I hope that I can show you that I only handled the situation wrong not that I don’t love you

I love you ❤️`;
messageBtn.addEventListener("click",()=>{
    if(messageBox.style.display==="none"||messageBox.style.display===""){ 
        messageBox.style.display="block"; 
        messageBox.innerText=APOLOGY;
    }else{ messageBox.style.display="none"; }
});

/* FLOATING HEARTS */
function startHearts(){
    const heartWords=["Zodwa","I","am","sorry","I love you"];
    heartWords.forEach(word=>{
        const h=document.createElement("div");
        h.className="heart";
        const text=document.createElement("span");
        text.innerText=word;
        h.appendChild(text);
        main.appendChild(h);

        h.style.left=Math.random()*(window.innerWidth-120)+"px";
        h.style.top=Math.random()*(window.innerHeight-120)+"px";
        h.style.zIndex=100;

        let dx=(Math.random()-0.5)*3;
        let dy=(Math.random()-0.5)*3;

        function moveHeart(){
            let x=parseFloat(h.style.left);
            let y=parseFloat(h.style.top);
            x+=dx*2; y+=dy*2;
            if(x<0||x>window.innerWidth-90) dx*=-1;
            if(y<0||y>window.innerHeight-90) dy*=-1;
            h.style.left=x+"px";
            h.style.top=y+"px";
            requestAnimationFrame(moveHeart);
        }
        moveHeart();
    });
}

/* PUZZLE */
const puzzleBtn=document.getElementById("puzzle-toggle");
puzzleBtn.onclick=()=>{ 
    const box=document.getElementById("puzzle-box");
    box.style.display = box.style.display==="block" ? "none" : "block"; 
};

const messages=["You are the best girlfriend!","You make me so happy!","I am sorry ❤️"];
const puzzleImages=["Puzzel1.JPG","Puzzel2.JPG","Puzzel3.jpeg"];
let gridSize, tiles=[], emptyPos={}, imgSize=300;

function startPuzzle(size){
    gridSize=size;
    const container=document.getElementById("puzzle-container");
    container.innerHTML="";
    tiles=[];
    document.getElementById("puzzle-message").style.display="none";
    document.getElementById("puzzle-back").style.display="inline-block";
    document.getElementById("puzzle-box").style.display="block";

    const imgSrc=puzzleImages[size-2];
    const tileSize=imgSize/size;

    for(let r=0;r<size;r++){
        for(let c=0;c<size;c++){
            if(r===size-1 && c===size-1){ emptyPos={row:r,col:c}; continue; }
            const tile=document.createElement("div");
            tile.className="tile";
            tile.dataset.row=r;
            tile.dataset.col=c;
            tile.dataset.rowOrig=r;
            tile.dataset.colOrig=c;
            tile.style.width=tileSize+"px";
            tile.style.height=tileSize+"px";
            tile.style.top=(r*tileSize)+"px";
            tile.style.left=(c*tileSize)+"px";
            tile.style.backgroundImage=`url(${imgSrc})`;
            tile.style.backgroundSize=`${imgSize}px ${imgSize}px`;
            tile.style.backgroundPosition=`-${c*tileSize}px -${r*tileSize}px`;
            tile.addEventListener("click",()=>moveTile(tile));
            container.appendChild(tile);
            tiles.push(tile);
        }
    }
    shuffleTiles();
}

function shuffleTiles(){
    for(let i=0;i<200;i++){
        const possible=tiles.filter(t=>isNeighbor(t,emptyPos));
        const tile=possible[Math.floor(Math.random()*possible.length)];
        swapTile(tile);
    }
}
function isNeighbor(tile,pos){
    const r=parseInt(tile.dataset.row),c=parseInt(tile.dataset.col);
    return (r===pos.row&&Math.abs(c-pos.col)===1)||(c===pos.col&&Math.abs(r-pos.row)===1);
}
function moveTile(tile){
    if(isNeighbor(tile,emptyPos)){
        swapTile(tile);
        checkSolved();
    }
}
function swapTile(tile){
    const tileSize=imgSize/gridSize;
    const oldRow=parseInt(tile.dataset.row),oldCol=parseInt(tile.dataset.col);
    tile.dataset.row=emptyPos.row;
    tile.dataset.col=emptyPos.col;
    tile.style.top=(emptyPos.row*tileSize)+"px";
    tile.style.left=(emptyPos.col*tileSize)+"px";
    emptyPos.row=oldRow;
    emptyPos.col=oldCol;
}
function checkSolved(){
    const solved=tiles.every(tile=>
        parseInt(tile.dataset.row)===parseInt(tile.dataset.rowOrig)&&
        parseInt(tile.dataset.col)===parseInt(tile.dataset.colOrig)
    );
    if(solved){
        const msgBox=document.getElementById("puzzle-message");
        msgBox.innerText=messages[gridSize-2];
        msgBox.style.display="block";
    }
}
function closePuzzle(){
    document.getElementById("puzzle-container").innerHTML="";
    document.getElementById("puzzle-message").style.display="none";
    document.getElementById("puzzle-back").style.display="none";
    document.getElementById("puzzle-box").style.display="none";
}

/* QUIZ */
const quizTab=document.getElementById("quiz-tab");
const quizBox=document.getElementById("quiz-box");
const quizQuestion=document.getElementById("quiz-question");
const quizOptions=document.getElementById("quiz-options");
const quizImage=document.getElementById("quiz-image");
const quizResult=document.getElementById("quiz-result");

let currentQ=0;
let answers=Array(10).fill(null);

const Q=[
{ q:"Where did we first meet?", a:["Greenmeadows","Ringball","At BLK","On Bult"], correct:1, img:"Quiz1.GIF" },
{ q:"When is our anniversary?", a:["28 March","13 May","5 November","14 May"], correct:1, img:"Quiz2.GIF" },
{ q:"What movie in Potch did we watch together?", a:["Fast and Furious","Avengers","Titanic","The Notebook"], correct:0, img:"Quiz3.jpeg" },
{ q:"My favorite nickname for us?", a:["Mam Z & Bab Z","Baby","My Love","Bully"], correct:0, img:"Quiz4.jpeg" },
{ q:"Funniest memory?", a:["When running","Meeting my mom","Meeting my sister","Meeting my dad"], correct:1, img:"Quiz5.jpeg" },
{ q:"What made you cry?", a:["I love you","I am proud of you","You’re amazing","I miss you"], correct:1, img:"Quiz6.jpeg" },
{ q:"What do I love most about you?", a:["Your laugh","Everything","Your looks","Your smile"], correct:1, img:"Quiz7.jpeg" },
{ q:"Favorite weekend thing?", a:["Movies","Run + food","Basketball","Family"], correct:1, img:"Quiz8.JPG" },
{ q:"Best moment ever?", a:["Our first night together","First date","Birthday","Walk"], correct:0, img:"Quiz9.jpeg" },
{ q:"Describe us in one word?", a:["Perfect","Fun","Crazy","Beautiful"], correct:0, img:"Quiz11.jpeg" }
];

function loadQuiz(){
    quizImage.style.backgroundImage=`url(${Q[currentQ].img})`;
    quizQuestion.innerText=Q[currentQ].q;
    quizOptions.innerHTML="";
    Q[currentQ].a.forEach((opt,i)=>{
        const div=document.createElement("div");
        div.className="quiz-option";
        if(answers[currentQ]===i) div.classList.add("selected");
        div.innerText=opt;
        div.onclick=()=>{ answers[currentQ]=i; loadQuiz(); };
        quizOptions.appendChild(div);
    });
    quizResult.innerHTML="";
}

quizTab.onclick=()=>{
    quizBox.style.display = quizBox.style.display==="block" ? "none" : "block";
    if(quizBox.style.display==="block") loadQuiz();
};
document.getElementById("next-btn").onclick=()=>{ if(currentQ<9){ currentQ++; loadQuiz(); } else { showResults(); } };
document.getElementById("prev-btn").onclick=()=>{ if(currentQ>0){ currentQ--; loadQuiz(); } };
document.getElementById("close-quiz").onclick=()=>{ quizBox.style.display="none"; };

function showResults(){
    let score=0;
    quizResult.innerHTML="<h3>Results:</h3>";
    Q.forEach((q,i)=>{
        const correct=(answers[i]===q.correct);
        if(correct) score++;
        quizResult.innerHTML+=`<p>${i+1}. ${correct?"✔️ Correct":"❌ Wrong"}</p>`;
    });
    quizResult.innerHTML+=`<h2>Score: ${score}/10</h2>`;
}

/* BIG QUESTION */
const bigqTab=document.getElementById("bigq-tab");
const bigqBox=document.getElementById("bigq-box");
const bigqImage=document.getElementById("bigq-image");
const yesBtn=document.getElementById("yes-btn");
const noBtn=document.getElementById("no-btn");
const closeBigq=document.getElementById("close-bigq");

bigqTab.onclick=()=>{
    // reset box every time
    bigqBox.style.display="block";
    bigqImage.style.backgroundImage="url('BigQ.jpeg')";
    yesBtn.style.display="inline-block";
    noBtn.style.display="inline-block";
    yesBtn.style.position="relative";
    noBtn.style.position="absolute";
    noBtn.style.left="50px";
    noBtn.style.top="50px";
};

yesBtn.onclick=()=>{
    bigqImage.style.backgroundImage="url('Yay.jpeg')";
    document.getElementById("bigq-question").innerText="Yay I love you";
    yesBtn.style.display="none";
    noBtn.style.display="none";
};

noBtn.onclick=()=>{
    const parentRect=bigqBox.getBoundingClientRect();
    const btnWidth=noBtn.offsetWidth;
    const btnHeight=noBtn.offsetHeight;
    const x=Math.random()*(parentRect.width-btnWidth-20);
    const y=Math.random()*(parentRect.height-btnHeight-20);
    noBtn.style.left=x+"px";
    noBtn.style.top=y+"px";
};

closeBigq.onclick=()=>{ bigqBox.style.display="none"; };
</script>

</body>
</html>
