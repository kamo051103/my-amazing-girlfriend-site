<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Apology Website</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Arial', sans-serif; background:#ffe6ec; overflow:hidden; }

/* LOGIN PAGE */
#login-form {
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100vh;
    background:url('photo3.jpeg') center/cover no-repeat;
}
#login-form h1 {
    font-size:32px;
    margin-bottom:20px;
    color:white;
    text-shadow:0 0 10px black;
}
#login-form input {
    padding:10px;
    border-radius:6px;
    border:none;
    margin:5px 0;
    width:220px;
    font-size:16px;
}
#login-btn { background:#ff4d6d; color:white; cursor:pointer; }

/* MAIN PAGE */
#main {
    display:none;
    height:100vh;
    background:#ffe6ec;
    position:relative;
    padding:20px;
}

/* Logout bottom-left */
#logout {
    position:absolute;
    bottom:20px;
    left:20px;
    padding:8px 16px;
    background:#ff4d6d;
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
    z-index:50;
}

/* Photos on right */
#photos {
    position:absolute;
    right:40px;
    top:50%;
    transform:translateY(-50%);
    display:flex;
    flex-direction:column;
    z-index:10;
}
#photos img {
    width:350px;
    border-radius:15px;
    margin-bottom:20px;
    box-shadow:0 4px 12px rgba(0,0,0,0.2);
    max-width:90vw;
}

/* Tabs Left */
.tabs {
    position:absolute;
    left:40px;
    top:50%;
    transform:translateY(-50%);
    z-index:20;
}
.tab-btn {
    padding:12px 20px;
    margin-bottom:10px;
    border:none;
    border-radius:8px;
    background:#ff4d6d;
    color:white;
    cursor:pointer;
    font-size:17px;
    width:180px;
}
#message-content {
    display:none;
    margin-top:15px;
    background:white;
    padding:20px;
    border-radius:12px;
    box-shadow:0 0 10px rgba(0,0,0,0.15);
    max-width:400px;
    white-space:pre-line;
    line-height:1.6;
    z-index:25;
    position:relative;
}

/* HEART SHAPE */
.heart {
    position:absolute;
    width:90px;
    height:90px;
    background:red;
    transform:rotate(-45deg);
    opacity:0.85;
    z-index:100; /* HEARTS IN FRONT */
}
.heart:before,
.heart:after {
    content:"";
    position:absolute;
    width:90px;
    height:90px;
    background:red;
    border-radius:50%;
    z-index:1;
}
.heart:before { top:-45px; left:0; }
.heart:after { left:45px; top:0; }
.heart span {
    position:absolute;
    top:55%;
    left:50%;
    transform:translate(-50%,-50%) rotate(45deg);
    color:white;
    font-weight:bold;
    font-size:15px;
    width:80px;
    text-align:center;
    z-index:9999;
    text-shadow:0 0 6px black;
    pointer-events:none;
}

/* PUZZLE BOX */
#puzzle-box, #quiz-box {
    width:400px;
    padding:20px;
    background:white;
    border-radius:16px;
    box-shadow:0 4px 12px rgba(0,0,0,0.15);
    margin-top:20px;
    display:none;
    text-align:center;
    position:relative;
}
#puzzle-container {
    position:relative;
    width:300px;
    height:300px;
    margin:auto;
}
.tile {
    position:absolute;
    cursor:pointer;
    border:1px solid white;
    transition:top 0.25s, left 0.25s;
}
#puzzle-message {
    margin-top:20px;
    display:none;
    background:#fff0f5;
    padding:15px;
    border-radius:12px;
    font-weight:bold;
}
#puzzle-back {
    margin-top:20px;
    background:#ff4d6d;
    color:white;
    border:none;
    padding:10px 16px;
    border-radius:8px;
    cursor:pointer;
}

/* QUIZ */
#quiz-container {
    position:relative;
}
.quiz-question {
    margin-bottom:15px;
    font-weight:bold;
    font-size:17px;
}
.quiz-options button {
    display:block;
    margin:5px auto;
    width:80%;
    padding:10px;
    border:none;
    border-radius:8px;
    background:#ff4d6d;
    color:white;
    cursor:pointer;
    font-size:16px;
}
.quiz-options button.selected { background:#cc0033; }
#quiz-nav button {
    margin:5px 10px;
    background:#ff4d6d;
    color:white;
    border:none;
    padding:10px 16px;
    border-radius:8px;
    cursor:pointer;
}
#quiz-image {
    width:100%;
    border-radius:12px;
    margin-bottom:15px;
    max-height:200px;
    object-fit:cover;
}
#quiz-results {
    margin-top:15px;
    background:#fff0f5;
    padding:10px;
    border-radius:12px;
    display:none;
}

/* MOBILE */
@media(max-width:800px) {
    #photos img { width:240px; }
    .tab-btn { width:150px; font-size:15px; }
    #message-content { max-width:300px; }
    .heart { width:70px; height:70px; }
    .heart:before, .heart:after { width:70px; height:70px; }
    .heart span { font-size:12px; width:60px; }
    #puzzle-box, #quiz-box { width:90%; }
}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login-form">
    <h1>Login</h1>
    <input type="text" id="name" placeholder="Enter your name" />
    <input type="submit" value="Login" id="login-btn" />
</div>

<!-- MAIN PAGE -->
<div id="main">

    <button id="logout">Logout</button>

    <div class="tabs">
        <button class="tab-btn" id="show-message">Apology Message</button>
        <button class="tab-btn" id="show-puzzle">Puzzle</button>
        <button class="tab-btn" id="show-quiz">Quiz</button>
        <div id="message-content"></div>
    </div>

    <div id="photos">
        <img src="photo.jpg" />
        <img src="photo2.jpg" />
    </div>

    <!-- PUZZLE -->
    <div id="puzzle-box">
        <div id="puzzle-container"></div>
        <div id="puzzle-message"></div>
        <button id="puzzle-back" onclick="closePuzzle()">Back</button>
        <div id="puzzle-card"></div>
        <div id="controls">
            <button onclick="startPuzzle(2)">2×2</button>
            <button onclick="startPuzzle(3)">3×3</button>
            <button onclick="startPuzzle(4)">4×4</button>
        </div>
    </div>

    <!-- QUIZ -->
    <div id="quiz-box">
        <img id="quiz-image" src="" />
        <div id="quiz-container">
            <div id="quiz-question" class="quiz-question"></div>
            <div class="quiz-options" id="quiz-options"></div>
            <div id="quiz-nav">
                <button id="prev-btn">Previous</button>
                <button id="next-btn">Next</button>
                <button id="submit-quiz">Submit</button>
                <button id="close-quiz">Close Quiz</button>
            </div>
            <div id="quiz-results"></div>
        </div>
    </div>

</div>

<script>
// LOGIN
const loginBtn = document.getElementById("login-btn");
const nameInput = document.getElementById("name");
const loginForm = document.getElementById("login-form");
const main = document.getElementById("main");

loginBtn.addEventListener("click", () => {
    const name = nameInput.value.trim();
    if(name==="Zodwa" || name==="Admin"){
        loginForm.style.display="none";
        main.style.display="block";
        startHearts();
    }else{
        alert("Incorrect name.");
    }
});
document.getElementById("logout").onclick = () => location.reload();

// APOLOGY MESSAGE
const messageBtn = document.getElementById("show-message");
const messageBox = document.getElementById("message-content");
const APOLOGY = `I’m really sorry for what I’ve done I hurt you ... I love you ❤️`;
messageBtn.addEventListener("click", () => {
    if(messageBox.style.display==="none" || messageBox.style.display===""){
        messageBox.style.display="block";
        messageBox.innerText = APOLOGY;
    } else { messageBox.style.display="none"; }
});

// FLOATING HEARTS
function startHearts(){
    const heartWords = ["Zodwa","I","am","sorry","I love you"];
    heartWords.forEach(word=>{
        const h=document.createElement("div");
        h.className="heart";
        const text=document.createElement("span");
        text.innerText=word;
        h.appendChild(text);
        main.appendChild(h);

        h.style.left=Math.random()*(window.innerWidth-120)+"px";
        h.style.top=Math.random()*(window.innerHeight-120)+"px";

        let dx=(Math.random()-0.5)*3;
        let dy=(Math.random()-0.5)*3;

        function moveHeart(){
            let x=parseFloat(h.style.left);
            let y=parseFloat(h.style.top);
            x+=dx*2; y+=dy*2;
            if(x<0 || x>window.innerWidth-90) dx*=-1;
            if(y<0 || y>window.innerHeight-90) dy*=-1;
            h.style.left=x+"px";
            h.style.top=y+"px";
            requestAnimationFrame(moveHeart);
        }
        moveHeart();
    });
}

// PUZZLE (existing code) ...
// ... (Omitted for brevity, use your existing puzzle JS here)

// --- QUIZ --- //
const quizBtn = document.getElementById("show-quiz");
const quizBox = document.getElementById("quiz-box");
const quizQuestion = document.getElementById("quiz-question");
const quizOptions = document.getElementById("quiz-options");
const quizImage = document.getElementById("quiz-image");
const prevBtn = document.getElementById("prev-btn");
const nextBtn = document.getElementById("next-btn");
const submitBtn = document.getElementById("submit-quiz");
const closeQuizBtn = document.getElementById("close-quiz");
const quizResults = document.getElementById("quiz-results");

const quizData = [
{q:"Where did we first meet?", options:["Greenmeadows","Ringball","At BLK","On Bult"], ans:1, img:"Quiz1.GIF"},
{q:"When is our anniversary?", options:["28 March","13 May","5 November","14 May"], ans:1, img:"Quiz2.GIF"},
{q:"What movie in Potch did we watch together?", options:["Fast and Furious","Avengers","Titanic","The Notebook"], ans:0, img:"Quiz3.jpeg"},
{q:"What is my favorite nickname for each other?", options:["Mam Z and Bab Z","Baby","My Love","Bully"], ans:0, img:"Quiz4.jpeg"},
{q:"What’s the funniest memory we shared?", options:["when running","When you first met my mom","When you first met my sister","When you first met my Dad"], ans:1, img:"Quiz5.jpeg"},
{q:"What have I said to you that made you cry?", options:["I love you","I am proud of you","You’re amazing","I miss you"], ans:[0,1], img:"Quiz6.jpeg"},
{q:"What do I love most about you?", options:["Your laugh","Everything","Your looks","Your smile"], ans:1, img:"Quiz7.jpeg"},
{q:"What’s your favorite thing we do together on weekends?", options:["Watch movies","Run and get food after","Play basketball games","Chilling with the family"], ans:1, img:"Quiz8.JPG"},
{q:"What’s the best moment we’ve ever spent together?", options:["Magical night together","Our first date","Birthday celebration","A walk together"], ans:0, img:"Quiz9.jpeg"},
{q:"If you could describe us in one word, what would it be?", options:["Perfect","Fun","Crazy","Beautiful"], ans:0, img:"Quiz11.jpeg"}
];

let currentQ=0;
let userAnswers = Array(quizData.length).fill(null);

quizBtn.addEventListener("click", ()=>{
    quizBox.style.display="block";
    // hide puzzle/message
    document.getElementById("puzzle-box").style.display="none";
    messageBox.style.display="none";
    loadQuiz();
});

function loadQuiz(){
    const q = quizData[currentQ];
    quizQuestion.innerText = q.q;
    quizImage.src = q.img;
    quizOptions.innerHTML="";
    q.options.forEach((opt,i)=>{
        const btn = document.createElement("button");
        btn.innerText = opt;
        if(userAnswers[currentQ]===i) btn.classList.add("selected");
        btn.addEventListener("click",()=>{
            userAnswers[currentQ]=i;
            Array.from(quizOptions.children).forEach(b=>b.classList.remove("selected"));
            btn.classList.add("selected");
        });
        quizOptions.appendChild(btn);
    });
    quizResults.style.display="none";
}

prevBtn.addEventListener("click",()=>{
    if(currentQ>0) { currentQ--; loadQuiz(); }
});
nextBtn.addEventListener("click",()=>{
    if(currentQ<quizData.length-1){ currentQ++; loadQuiz(); }
});

submitBtn.addEventListener("click",()=>{
    let correct=0;
    quizResults.innerHTML="<h3>Results:</h3>";
    quizData.forEach((q,i)=>{
        const user = userAnswers[i];
        let answerText="";
        if(Array.isArray(q.ans)){
            answerText=q.ans.map(a=>q.options[a]).join(", ");
            if(q.ans.includes(user)) correct++;
        } else {
            answerText = q.options[q.ans];
            if(user===q.ans) correct++;
        }
        quizResults.innerHTML += `<p>Q${i+1}: Correct answer: ${answerText}</p>`;
    });
    quizResults.innerHTML += `<h3>Score: ${correct} / ${quizData.length}</h3>`;
    quizResults.style.display="block";
});

closeQuizBtn.addEventListener("click",()=>{
    quizBox.style.display="none";
});
</script>
</body>
</html>
